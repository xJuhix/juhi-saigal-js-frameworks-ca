!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react-hook-form")):"function"==typeof define&&define.amd?define(["exports","react-hook-form"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactHookFormResolvers={},e.ReactHookForm)}(this,(function(e,t){"use strict";class s extends TypeError{constructor(e,t){const{message:s,...r}=e,{path:n}=e;let a;super(0===n.length?s:"At path: "+n.join(".")+" -- "+s),Object.assign(this,r),this.name=this.constructor.name,this.failures=()=>(a||(a=[e,...t]),a)}}function r(e){const{done:t,value:s}=e.next();return t?void 0:s}function*n(e,t){if("string"==typeof e)yield t.fail({message:e});else{if(!0===e)return;!1===e?yield t.fail():yield*e}}function a(e,t,n={}){n.coerce&&(e=t.coercer(e));const a=o(e,t),i=r(a);if(i){return[new s(i,a),void 0]}return[void 0,e]}function*o(e,t,s=[],a=[]){const i={value:e,struct:t,branch:a,path:s,check:(e,t,r,n)=>o(e,t,void 0!==r?[...s,n]:s,void 0!==r?[...a,r]:a),fail(r={}){"string"==typeof r&&(r={message:r});const{type:n}=t;let{message:o,refinement:i}=r;return o||(o="Expected a value of type `"+n+"`"+(i?" with refinement `"+i+"`":"")+(s.length?" for `"+s.join(".")+"`":"")+", but received: `"+function(e){return"string"==typeof e?JSON.stringify(e):""+e}(e)+"`"),{...r,value:e,type:n,refinement:i,message:o,key:s[s.length-1],path:s,branch:[...a,e]}}},c=n(t.validator(e,i),i),u=r(c);u?(yield u,yield*c):yield*n(t.refiner(e,i),i)}var i=e=>e.reduce(((e,t,s)=>`${e}${"string"==typeof t?`${s>0?".":""}${t}`:`[${t}]`}`),"").toString();const c=(e,s)=>e.failures().reduce(((e,{path:r,message:n="",type:a})=>{const o=i(r);return Object.assign(Object.assign({},e),r?e[o]&&s?{[o]:t.appendErrors(o,s,e,a||"",n)}:{[o]:e[o]||Object.assign({message:n,type:a},s?{types:{[a||""]:n||!0}}:{})}:{})}),{}),u=(e,s)=>Array.isArray(e.details)?e.details.reduce(((e,{path:r,message:n="",type:a})=>{const o=i(r);return Object.assign(Object.assign({},e),r?e[o]&&s?{[o]:t.appendErrors(o,s,e,a,n)}:{[o]:e[o]||Object.assign({message:n,type:a},s?{types:{[a]:n||!0}}:{})}:{})}),{}):[],l=(e,s)=>e.isEmpty?{}:e.errors.reduce(((e,{path:r,message:n,code:a})=>{const o=i(r);return Object.assign(Object.assign({},e),r?e[o]&&s?{[o]:t.appendErrors(o,s,e,a,n)}:{[o]:e[o]||Object.assign({message:n,type:a},s?{types:{[a]:n||!0}}:{})}:{})}),{});e.joiResolver=(e,s={abortEarly:!1})=>async(r,n,a=!1)=>{try{return{values:await e.validateAsync(r,Object.assign({},s)),errors:{}}}catch(e){return{values:{},errors:t.transformToNestObject(u(e,a))}}},e.superstructResolver=(e,s)=>(r,n,o=!1)=>{const[i,u]=a(r,e,s);return null!=i?{values:{},errors:t.transformToNestObject(c(i,o))}:{values:u,errors:{}}},e.yupResolver=(e,s={abortEarly:!1})=>async(r,n,a=!1)=>{try{return s.context&&process.env.NODE_ENV,{values:await e.validate(r,Object.assign(Object.assign({},s),{context:n})),errors:{}}}catch(e){const s=((e,t)=>Array.isArray(e.inner)&&e.inner.length?e.inner.reduce(((e,{path:s,message:r,type:n})=>{const a=e[s]&&e[s].types||{},o=s||n;return Object.assign(Object.assign({},e),o?{[o]:Object.assign(Object.assign({},e[o]||{message:r,type:n}),t?{types:Object.assign(Object.assign({},a),{[n]:a[n]?[...[].concat(a[n]),r]:r})}:{})}:{})}),{}):{[e.path]:{message:e.message,type:e.type}})(e,a);return{values:{},errors:t.transformToNestObject(s)}}},e.zodResolver=(e,s)=>async(r,n,a=!1)=>{const o=e.safeParse(r,s);return o.success?{values:o.data,errors:{}}:{values:{},errors:t.transformToNestObject(l(o.error,a))}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
